{% extends "base.html" %}

{% block app_content %}
    <h2>Traffic</h2>
        <div id="traffic">
            <table class="table table-striped table-bordered table-hover text-center">
                <tr>
                    <th scope="col" class="text-center">IP</th>
                    <th scope="col" class="text-center">Sent</th>
                    <th scope="col" class="text-center">Received</th>
                </tr>
                {% for k, v in packets.items() %}
                <tr>
                    <td>{{ k }}</td>
                    <td>{{ v.Sent }}</td>
                    <td>{{ v.Received }}</td>
                </tr>
                {% endfor %}
            </table>
        </div>
        <script>
            var pollRate = '{{ config.NABUI_POLL_RATE }}' * 1000;
            setInterval(function(){
                $('#traffic').load('/traffic');
            }, pollRate);
        </script>
{% endblock %}